# 03 – Local Development & Environment Setup

**Project Name:** Lets Vibe CLI

---

## 1. Prerequisites & Tooling

| Tool          | Minimum Version | Install Guide                       |
| ------------- | --------------- | ----------------------------------- |
| Node.js       | 18.x LTS        | https://nodejs.org/en               |
| npm           | comes with Node |                                     |
| Docker Engine | 24+ (optional)  | https://docs.docker.com/get-docker/ |
| git           | 2.40+           | https://git-scm.com/downloads       |

> Tip: use a version manager such as `fnm`, `nvm`, or `asdf` for Node.

### VS Code Extensions (recommended)

- ESLint
- Prettier
- Docker
- GitLens

## 2. Clone & Install

```bash
# 1. Clone the repository
 git clone <REPO-URL> Lets Vibe CLI
 cd Lets Vibe CLI

# 2. Install dependencies (npm or pnpm or yarn)
 npm install
```

### Optional: spin up dependent services with Docker Compose

```bash
# Example
 docker compose up -d postgres redis
```

## 3. Environment Configuration

1. Copy the example file:
   ```bash
   cp .env.example .env
   ```
2. Fill in the required values—see table below.

| Variable       | Description                  | Example                                  |
| -------------- | ---------------------------- | ---------------------------------------- |
| `PORT`         | HTTP port the app binds to   | `3000`                                   |
| `DATABASE_URL` | PostgreSQL connection string | `postgres://user:pass@localhost:5432/db` |
| `REDIS_URL`    | Redis connection string      | `redis://localhost:6379/0`               |

## 4. Running the Application

| Command         | Purpose                                       |
| --------------- | --------------------------------------------- |
| `npm run dev`   | Start the development server with auto-reload |
| `npm run build` | Build production bundle                       |
| `npm start`     | Run compiled app                              |

### Testing & Quality

| Command            | Purpose                               |
| ------------------ | ------------------------------------- |
| `npm test`         | Unit + integration tests              |
| `npm run test:e2e` | End-to-end tests (Playwright/Cypress) |
| `npm run lint`     | ESLint static analysis                |
| `npm run format`   | Prettier formatting                   |

## 5. Database Migrations

If the project uses a migration tool (Prisma, Knex, Sequelize):

```bash
# Generate new migration
npm run migrate:generate -- <migration_name>

# Apply migrations locally
npm run migrate:dev
```

## 6. Debugging Tips

- **Port already in use** – kill the process with `lsof -i :3000`.
- **Docker won't start** – ensure WSL 2 backend is running (Windows).
- **Tests can't connect to DB** – did you run `docker compose up -d postgres`?

## 7. Project Scripts Reference

Add or update `package.json` scripts as needed.

```jsonc
{
  "scripts": {
    "dev": "nodemon src/index.js",
    "build": "tsc -p .",
    "start": "node dist/index.js",
    "test": "vitest run",
    "lint": "eslint . --ext .js,.ts",
    "format": "prettier --write ."
  }
}
```

## 8. Keeping Dependencies Updated

```bash
# Check for outdated packages
npm outdated

# Interactive upgrade (npm >= 8)
npm update --interactive
```

## 9. Containerising the App (optional)

```dockerfile
# Dockerfile (example)
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --production
COPY . .
CMD ["node", "dist/index.js"]
```

Build & run:

```bash
docker build -t Lets Vibe CLI:dev .
docker run -p 3000:3000 --env-file .env Lets Vibe CLI:dev
```

---

_Document generated by lets-vibe. Tailor commands to your specific tech stack._
